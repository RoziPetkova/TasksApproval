<mvc:View
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:card="sap.f.cards"
    xmlns:macros="sap.fe.macros"
    xmlns:html="http://www.w3.org/1999/xhtml"
    controllerName="appiuimodule.controllers.OrderDetails">
    <Page
        id="Details"
        title="{i18n>DetailsTitle}"
        showNavButton="true"
        navButtonPress=".onNavBack">
        <headerContent>
            <core:Fragment fragmentName="appiuimodule.views.HeaderButtons" type="XML" />
        </headerContent>
        <content  class="sapUiSmallMarginBottom sapUiMediumMarginBegin sapUiMediumMarginEnd">
            <VBox class="sapUiResponsiveMargin sapUiMediumMarginTop">
                <f:Card id="orderCard">
                    <f:header>
                        <card:Header
                            title="{i18n>generalInformationLabel}"
                            iconSrc="sap-icon://order-status" />
                    </f:header>
                    <f:content>
                        <VBox class="sapUiResponsiveMargin" width="100%">
                            <HBox justifyContent="End" class="sapUiSmallMarginBottom">
                                <core:Fragment fragmentName="appiuimodule.views.CustomerDetailsButton"
                                    type="XML" />
                            </HBox>
                            <HBox wrap="Wrap" width="100%"
                                justifyContent="SpaceBetween">
                                <!-- Left Column -->
                                <VBox width="48%">
                                    <List items="{path: 'orderModel>/taskDetails', length: 4}"
                                        class="sapUiSizeCompact" width="100%">
                                        <StandardListItem
                                            title="{orderModel>label}"
                                            info="{orderModel>value}"
                                            type="{path: 'orderModel>label', formatter: '.formatCustomerRowType'}"
                                            press=".onCustomerRowPress" />
                                    </List>
                                </VBox>

                                <!-- Right Column -->
                                <VBox width="48%">
                                    <List items="{path: 'orderModel>/taskDetails', startIndex: 4}"
                                        class="sapUiSizeCompact" width="100%">
                                        <StandardListItem
                                            title="{orderModel>label}"
                                            info="{orderModel>value}"
                                            infoState="{parts: ['orderModel>label', 'orderModel>value'], formatter: '.formatStatusColor'}" />
                                    </List>
                                </VBox>
                            </HBox>
                        </VBox>
                    </f:content>
                </f:Card>
            </VBox>
        </content>
        <footer>
            <Toolbar>
                <ToolbarSpacer /> <!-- pushes buttons to the right -->
                <Button
                    id="ApproveButton"
                    icon="sap-icon://accept"
                    text="{i18n>Approve}"
                    enabled="{= ${orderModel>/taskDetails/7/value} === 'Pending' }"
                    press=".onApprove" />
                <Button
                    id="DeclineButton"
                    icon="sap-icon://decline"
                    text="{i18n>Decline}"
                    enabled="{= ${orderModel>/taskDetails/7/value} === 'Pending' }"
                    press=".onDecline" />
            </Toolbar>
        </footer>
    </Page>
</mvc:View>